<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>env - The SCORM-Offline-Player API</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title="The SCORM-Offline-Player API"></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 0.1</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/db.html">db</a></li>
            
                <li><a href="../classes/env.html">env</a></li>
            
                <li><a href="../classes/gui.html">gui</a></li>
            
                <li><a href="../classes/main.html">main</a></li>
            
                <li><a href="../classes/som.html">som</a></li>
            
                <li><a href="../classes/sqlite.html">sqlite</a></li>
            
                <li><a href="../classes/utils.html">utils</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>env Class</h1>
<div class="box meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="../files/env.js.html#l1"><code>env.js:1</code></a>
        </div>
    

    

    
</div>



<div class="box intro">
    <p>environment class</p>

<p>The environment class is responsible for the availability of a proper runtime: db, profile, io objects and webserver. 
The run event must be triggered from the som and sop classes, but the env class ensures that the env is running only once.
The environment listens to all window tabs and stops if neither som nor sop instances are running.</p>

<p>If no som instance is open and the env is not running and the user tries to open a bookmarked SCORM course at localhost:serverPort, 
the httpObserver ensures that the env is running before the network request will be completed.</p>
</div>



<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
        
        
            <li class="api-class-tab properties"><a href="#properties">Properties</a></li>
        
        
        
            <li class="api-class-tab events"><a href="#events">Events</a></li>
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

            
                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                        
                            <li class="index-item method private">
                                <a href="#method_checkRte">checkRte</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_cleanProfileData">cleanProfileData</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_httpRequestObserver">httpRequestObserver</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_initIO">initIO</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_isRunning">isRunning</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_on">on</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_once">once</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_onManagerUnload">onManagerUnload</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_onPlayerUnload">onPlayerUnload</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_onUnload">onUnload</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_populateProfile">populateProfile</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_removeListener">removeListener</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_run">run</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_startServer">startServer</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_stop">stop</a>

                                
                                
                            </li>
                        
                            <li class="index-item method private">
                                <a href="#method_stopServer">stopServer</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            
                <div class="index-section properties">
                    <h3>Properties</h3>

                    <ul class="index-list properties">
                        
                            <li class="index-item property public">
                                <a href="#property_globals">globals</a>

                                
                                
                            </li>
                        
                            <li class="index-item property private">
                                <a href="#property_httpRequestObserver">httpRequestObserver</a>

                                
                                
                            </li>
                        
                            <li class="index-item property public">
                                <a href="#property_io">io</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            

            
                <div class="index-section events">
                    <h3>Events</h3>

                    <ul class="index-list events">
                        
                            <li class="index-item event">
                                <a href="#event_run">run</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            
        </div>

        
            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

                
                    <div id="method_checkRte" class="method item private">
    <h3 class="name"><code>checkRte</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l369"><code>env.js:369</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>checks if any player and manager instances are open, if not the environment will be stopped.</p>
    </div>

    

    

    
</div>

                
                    <div id="method_cleanProfileData" class="method item public">
    <h3 class="name"><code>cleanProfileData</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l285"><code>env.js:285</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>deletes existing db and webroot in the profile folder</p>
    </div>

    

    

    
</div>

                
                    <div id="method_httpRequestObserver" class="method item public">
    <h3 class="name"><code>httpRequestObserver</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l127"><code>env.js:127</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>creates and register httpObserver (called in main.js)
The observer must be registered bevor any other objects are initialized.</p>
    </div>

    

    

    
</div>

                
                    <div id="method_initIO" class="method item public">
    <h3 class="name"><code>initIO</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l215"><code>env.js:215</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>initialize all necessary file and directory objects</p>
    </div>

    

    

    
</div>

                
                    <div id="method_isRunning" class="method item public">
    <h3 class="name"><code>isRunning</code></h3>

    
        <span class="paren">()</span>
    

    
        <span class="returns-inline">
            <span class="type">Boolean</span>
        </span>
    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l46"><code>env.js:46</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>get the running status
The function needs early binding for other classes</p>
    </div>

    

    
        <div class="returns">
            <h4>Returns:</h4>

            <div class="returns-description">
                
                    
                        <span class="type">Boolean</span>:
                    
                    running
                
            </div>
        </div>
    

    
</div>

                
                    <div id="method_on" class="method item public">
    <h3 class="name"><code>on</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l21"><code>env.js:21</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        
    </div>

    

    

    
</div>

                
                    <div id="method_once" class="method item public">
    <h3 class="name"><code>once</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l25"><code>env.js:25</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        
    </div>

    

    

    
</div>

                
                    <div id="method_onManagerUnload" class="method item private">
    <h3 class="name"><code>onManagerUnload</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l340"><code>env.js:340</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>unloads the manager</p>
    </div>

    

    

    
</div>

                
                    <div id="method_onPlayerUnload" class="method item private">
    <h3 class="name"><code>onPlayerUnload</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l329"><code>env.js:329</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>unloads the player</p>
    </div>

    

    

    
</div>

                
                    <div id="method_onUnload" class="method item private">
    <h3 class="name"><code>onUnload</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l351"><code>env.js:351</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>base unload function for player and manager</p>
    </div>

    

    

    
</div>

                
                    <div id="method_populateProfile" class="method item public">
    <h3 class="name"><code>populateProfile</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l251"><code>env.js:251</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>populates the profile folder with an initial db and a webserver root folder with the SCORM-Offline-Player files if not exists.</p>
    </div>

    

    

    
</div>

                
                    <div id="method_removeListener" class="method item public">
    <h3 class="name"><code>removeListener</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l29"><code>env.js:29</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        
    </div>

    

    

    
</div>

                
                    <div id="method_run" class="method item public">
    <h3 class="name"><code>run</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l191"><code>env.js:191</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>starts the environment components (io, db, server) and populates the profile</p>

<p>emits a run event</p>
    </div>

    

    

    
</div>

                
                    <div id="method_startServer" class="method item private">
    <h3 class="name"><code>startServer</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>async=false</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l389"><code>env.js:389</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>starts the internal webserver</p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">async=false</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                         
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
</div>

                
                    <div id="method_stop" class="method item public">
    <h3 class="name"><code>stop</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l306"><code>env.js:306</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>stops the webserver closes the db and set the private running variable to false</p>
    </div>

    

    

    
</div>

                
                    <div id="method_stopServer" class="method item private">
    <h3 class="name"><code>stopServer</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag private">private</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l420"><code>env.js:420</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>stops the internal webserver</p>
    </div>

    

    

    
</div>

                
            </div>
        

        
            <div id="properties" class="api-class-tabpanel">
                <h2 class="off-left">Properties</h2>

                
                    <div id="property_globals" class="property item public">
    <h3 class="name"><code>globals</code></h3>
    <span class="type">Unknown</span>

    

    
        <span class="flag public">public</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l98"><code>env.js:98</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>Globals Object
Provides all global Variables</p>
    </div>

    

    

    
</div>

                
                    <div id="property_httpRequestObserver" class="property item private">
    <h3 class="name"><code>httpRequestObserver</code></h3>
    <span class="type">Unknown</span>

    

    
        <span class="flag private">private</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l117"><code>env.js:117</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>httpObserver
Observes browser network requests to sop webserver at localhost:serverPort.
If the browser requests a Learning-Module and the environment is not running, the observer starts the environment.</p>
    </div>

    

    

    
</div>

                
                    <div id="property_io" class="property item public">
    <h3 class="name"><code>io</code></h3>
    <span class="type">Unknown</span>

    

    
        <span class="flag public">public</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l90"><code>env.js:90</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        <p>IO Object
Provides all File and Directory Objects</p>
    </div>

    

    

    
</div>

                
            </div>
        

        

        
            <div id="events" class="api-class-tabpanel">
                <h2 class="off-left">Events</h2>

                
                    <div id="event_run" class="events item">
    <h3 class="name"><code>run</code></h3>
    <span class="type"></span>

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/env.js.html#l188"><code>env.js:188</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        
    </div>

    


    
</div>

                
            </div>
        
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
