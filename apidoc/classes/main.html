<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>main</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="../assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="../classes/db.html">db</a></li>
            
                <li><a href="../classes/env.html">env</a></li>
            
                <li><a href="../classes/gui.html">gui</a></li>
            
                <li><a href="../classes/main.html">main</a></li>
            
                <li><a href="../classes/som.html">som</a></li>
            
                <li><a href="../classes/utils.html">utils</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>main Class</h1>
<div class="box meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="../files/main.js.html#l1"><code>main.js:1</code></a>
        </div>
    

    

    
</div>



<div class="box intro">
    <p>Mandatory addon main class</p>

<p>The main class receives and emits all load and unload events like "startup, install, uninstall..." for all other classes
Therefore all other classes (env, som, gui, db, utils) needs to be included inside main.js after early binding of the events. </p>

<p>See also: <a href="https://addons.mozilla.org/en-US/developers/docs/sdk/latest/dev-guide/tutorials/load-and-unload.html" target="_new">https://addons.mozilla.org/en-US/developers/docs/sdk/latest/dev-guide/tutorials/load-and-unload.html</a></p>
</div>



<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
            <li class="api-class-tab methods"><a href="#methods">Methods</a></li>
        
        
        
        
            <li class="api-class-tab events"><a href="#events">Events</a></li>
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

            
                <div class="index-section methods">
                    <h3>Methods</h3>

                    <ul class="index-list methods">
                        
                            <li class="index-item method">
                                <a href="#method_main">main</a>

                                
                                
                            </li>
                        
                            <li class="index-item method public">
                                <a href="#method_removeListener">removeListener</a>

                                
                                
                            </li>
                        
                            <li class="index-item method">
                                <a href="#method_unload">unload</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            

            

            

            
                <div class="index-section events">
                    <h3>Events</h3>

                    <ul class="index-list events">
                        
                            <li class="index-item event public">
                                <a href="#event_on">on</a>

                                
                                
                            </li>
                        
                            <li class="index-item event public">
                                <a href="#event_once">once</a>

                                
                                
                            </li>
                        
                    </ul>
                </div>
            
        </div>

        
            <div id="methods" class="api-class-tabpanel">
                <h2 class="off-left">Methods</h2>

                
                    <div id="method_main" class="method item">
    <h3 class="name"><code>main</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>options</code>
                    
                </li>
            
                <li class="arg">
                    
                        <code>callbacks</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/main.js.html#l46"><code>main.js:46</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>The main function is executed after all required classes and all the other main.js code evaluation.
The option.loadReason events are emitted for other classes adding listeners like main.on("startup") or main.on("install").
The event reasons "upgrade" and "downgrade" may be fired on loading and unloading the addon. 
Therefore a load=true argument is added to the emit call.</p>

<p>possible loadReasons:</p>

<p>install</p>

<p>enable</p>

<p>startup</p>

<p>upgrade</p>

<p>downgrade</p>

<p>see also: <a href="https://addons.mozilla.org/en-US/developers/docs/sdk/latest/dev-guide/tutorials/load-and-unload.html" target="_new">https://addons.mozilla.org/en-US/developers/docs/sdk/latest/dev-guide/tutorials/load-and-unload.html</a></p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">options</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                         
                    </div>

                    
                </li>
            
                <li class="param">
                    
                        <code class="param-name">callbacks</code>
                        <span class="type">Object</span>
                    

                    

                    <div class="param-description">
                         
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <p>main.on("startup", function(){ //do something }; )</p><p>main.on("downgrade", function(load){ if (load === true) { //do something }; })</p>
            </div>
        </div>
    
</div>

                
                    <div id="method_removeListener" class="method item public">
    <h3 class="name"><code>removeListener</code></h3>

    
        <span class="paren">()</span>
    

    

    

    
        <span class="flag public">public</span>
    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/main.js.html#l25"><code>main.js:25</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        
    </div>

    

    

    
</div>

                
                    <div id="method_unload" class="method item">
    <h3 class="name"><code>unload</code></h3>

    
        <div class="args">
            <span class="paren">(</span><ul class="args-list inline commas">
            
                <li class="arg">
                    
                        <code>reason</code>
                    
                </li>
            
            </ul><span class="paren">)</span>
        </div>
    

    

    

    

    

    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/main.js.html#l80"><code>main.js:80</code></a>
        
        </p>


        

        
    </div>

    <div class="description">
        <p>The unload function is executed on unloading the addon.
All event reasons are emitted for other modules to add listeners like main.on("shutdown") or main.on("uninstall")) <br />
The event reasons "upgrade" and "downgrade" may be fired on loading and unloading the addon. 
Therefore a load=false argument is added to the emit call.</p>

<p>possible reasons:</p>

<p>uninstall</p>

<p>disable</p>

<p>shutdown</p>

<p>upgrade</p>

<p>downgrade</p>

<p>see also: <a href="https://addons.mozilla.org/en-US/developers/docs/sdk/latest/dev-guide/tutorials/load-and-unload.html" target="_new">https://addons.mozilla.org/en-US/developers/docs/sdk/latest/dev-guide/tutorials/load-and-unload.html</a></p>
    </div>

    
        <div class="params">
            <h4>Parameters:</h4>

            <ul class="params-list">
            
                <li class="param">
                    
                        <code class="param-name">reason</code>
                        <span class="type">String</span>
                    

                    

                    <div class="param-description">
                         
                    </div>

                    
                </li>
            
            </ul>
        </div>
    

    

    
        <div class="example">
            <h4>Example:</h4>

            <div class="example-content">
                <p>main.on("shutdown", function(){ //do something }; )</p><p>main.on("downgrade", function(load){ if (load === false) { //do something }; })</p>
            </div>
        </div>
    
</div>

                
            </div>
        

        

        

        
            <div id="events" class="api-class-tabpanel">
                <h2 class="off-left">Events</h2>

                
                    <div id="event_on" class="events item public">
    <h3 class="name"><code>on</code></h3>
    <span class="type"></span>

    

    
        <span class="flag public">public</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/main.js.html#l17"><code>main.js:17</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        
    </div>

    


    
</div>

                
                    <div id="event_once" class="events item public">
    <h3 class="name"><code>once</code></h3>
    <span class="type"></span>

    

    
        <span class="flag public">public</span>
    

    

    

    <div class="meta">
        
            
                
                <p>
                
                Defined in
                
            
        
        
        <a href="../files/main.js.html#l21"><code>main.js:21</code></a>
        
        </p>

        

        
    </div>

    <div class="description">
        
    </div>

    


    
</div>

                
            </div>
        
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
